<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Login</title>

<style>
body{
    font-family: Arial, sans-serif;
    background: linear-gradient(to right,#0b6e4f,#1b9c85);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    margin:0;
}

.login-box{
    background:white;
    padding:40px;
    border-radius:12px;
    width:320px;
    box-shadow:0 10px 25px rgba(0,0,0,0.2);
    text-align:center;
}

.login-box h2{
    margin-bottom:25px;
    color:#0b6e4f;
}

.login-box input{
    width:100%;
    padding:10px;
    margin:10px 0;
    border-radius:6px;
    border:1px solid #ccc;
}

.login-box button{
    width:100%;
    padding:10px;
    background:#0b6e4f;
    color:white;
    border:none;
    border-radius:6px;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
}

.login-box button:hover{
    background:#095c42;
}

#error{
    color:red;
    margin-top:10px;
}
</style>
</head>

<body>

<div class="login-box">
    <h2>Admin Login</h2>

    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">

    <button onclick="login()">Login</button>

    <p id="error"></p>
</div>

<script>
async function login(){
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    try{
        const response = await fetch("http://localhost:5000/login",{
            method:"POST",
            headers:{
                "Content-Type":"application/json"
            },
            body: JSON.stringify({username,password})
        });

        const data = await response.json();

        if(response.ok){
            localStorage.setItem("token", data.token);
            window.location.href = "dashboard.html";
        }else{
            document.getElementById("error").innerText = data.message;
        }

    }catch(error){
        document.getElementById("error").innerText = "Server not running!";
    }
}
</script>

</body>
</html>
